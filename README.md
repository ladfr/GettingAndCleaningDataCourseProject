---
title: "README"
author: "TF"
date: "5/2/2021"
output: html_document
---

# Course project for Getting and Cleaning Data course

The goal is to tidy the data provided by 'Human Activity Recognition Using Smartphones Dataset
Version 1.0'. For a description see the README.txt in the UCI HAR Dataset subdirectory.

The data was downloaded from <https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip>, a descpription can be found at <http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones>

# Steps of data tidying in run_analysis.R

This script run_analysis.R does transformations based on the Human Activity Recognition Using Smartphones Dataset and provides two result data sets: 

* x_tbl_mean_std_rc: Measurements on the mean and standard deviation for each measurement
* x_grouped_means: Average of each variable for each activity and each subject

Libraries used:

* library(dplyr)
* library(tibble)

### First data set: x_tbl_mean_std_rc, measurements on the mean and standard deviation for each measurement
We first read the labels and fix duplicates

In order to read fixed length date we prepare a vector width_datafields with the lengths of the fields

In the next bigger section 'Test data' we read the test data and assign column names.
We read subjects and activities.
All these datasets are then converted to tibbles.
We add to the test data set subject and activity as columns.

The same steps are repeated for the train data set.

The train and test data sets are joined to x_tbl.

The columns which contain "-mean()" or "-std()" are selected and activity and subject columns (562,563) are added.

The activity numbers are recoded to the according strings.

Appropriate labels are generated by substitute operations and are converted to lower case.

The resulting data set is x_tbl_mean_std_rc.

### Second data set: x_grouped_means, data set with the average of each variable for each activity and each subject.

We first calculate for the groups subject, activity the according means for all variables
Then the labels are adopted by substituting values.

The resulting data set is x_grouped_means and written to a file x_grouped_means.txt.

